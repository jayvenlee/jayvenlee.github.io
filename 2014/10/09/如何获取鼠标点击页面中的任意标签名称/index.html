<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>如何获取鼠标点击页面中的任意标签名称 | jayvenlee's blogs</title><script>var config = {"hostname":"http://example.com","root":"/","preload":false,"path":""}</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.0.0"></head><body style="background-image:url(https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg);"><div id="cursor-container"><div id="cursor-outer"></div><div id="cursor-effect"></div></div><main><header><nav><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><ol class="navContent"><li class="navItem search-header"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></li><li class="navItem"><a href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem"><a href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav><div class="search-popup"><div id="search-result"></div></div></header><article><div id="post-bg"><div id="post-title"><h1>如何获取鼠标点击页面中的任意标签名称</h1><div id="post-info"><span>First Post:<span class="control"><time datetime="2014-10-09T13:47:22.000Z" id="date"> 2014-10-09</time></span></span><br><span>Last Update:<span class="control"><time datetime="2022-10-13T06:05:19.872Z" id="updated"> 2022-10-13</time></span></span></div></div><hr><div id="post-content"><p>RT—-感觉这个题目蛮有意思的—开整。</p>
<p>我第一眼看到这个题目的时候就觉得简直so easy嘛，没什么挑战性啊，不就是给一个标签绑定一个事件，用this来搞掂就OK了么………..</p>
<p>结果我再仔细一看发现想的略简单…….</p>
<p>好吧，进入正题</p>
<p>我开始一直在想如何给页面上所有的元素绑定同一个事件纠结了不少时间，还百度了一下，不过没找到合适的答案，然后我就想貌似没有这种说法。然后我不知道怎么的就通过a标签想到了window和document对象。</p>
<p>然后给window绑定了事件，点击页面上任意位置都有反应了，如果不传参数的话打印的就是window和document对象，代码如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>);<span class="hljs-comment">//这里的打印结果是[object Window]</span><br>&#125;<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>);<span class="hljs-comment">//这里是[object HTMLDocument]</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后我想到了用this不就能找到当前对象了么…..于是我就相当然的这样传参了。。。结果是果断报错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span></span>)&#123;<br>   <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>);<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>这样不行我就改换了一下思路。换了一个形参名，结果打印出来一串貌似鼠标监听的东东[object MouseEvent]，心里暗喜，这下貌似有戏了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)&#123;<br>     <span class="hljs-title function_">alert</span>(obj);<br>&#125;;<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)&#123;<br>     <span class="hljs-title function_">alert</span>(obj);<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>但是这样也看不出什么，于是果断的按下F12打开控制台。将alert改成了console.log()</p>
<p>然后首先进入我视线的是那个Video，而我当时点击的就是那个视频，然后就看见了toElement这个玩意…</p>
<p><img src="http://images0.cnblogs.com/blog/635885/201410/092125462495365.jpg" alt="图片"><br><a target="_blank" rel="noopener" href="http://images0.cnblogs.com/blog/635885/201410/092125462495365.jpg">图片</a></p>
<p>MouseEvent {dataTransfer: null, toElement: video, fromElement: null, y: 346, x: 306…}<br>altKey: false<br>bubbles: true<br>button: 0<br>cancelBubble: false<br>cancelable: true<br>charCode: 0<br>clientX: 306<br>clientY: 346<br>clipboardData: undefined<br>ctrlKey: false<br>currentTarget: null<br>dataTransfer: null<br>defaultPrevented: false<br>detail: 1<br>eventPhase: 0<br>fromElement: null<br>keyCode: 0<br>layerX: 306<br>layerY: 742<br>metaKey: false<br>offsetX: 306<br>offsetY: 742<br>pageX: 306<br>pageY: 1393<br>path: NodeList[0]<br>relatedTarget: null<br>returnValue: true<br>screenX: 306<br>screenY: 407<br>shiftKey: false<br>srcElement: video<br>target: video<br>timeStamp: 1412860841531<br>toElement: video<br>type: “click”<br>view: Window<br>webkitMovementX: 0<br>webkitMovementY: 0<br>which: 1<br>x: 306<br>y: 346<br><strong>proto</strong>: MouseEvent<br>这下完全找到思路了，果断将代码写为</p>
<p>window.onclick&#x3D;function(obj){<br>     console.log(obj.toElement);</p>
<p>　　alert(obj.toElement);　</p>
<p>};</p>
<p>然后输出结果如下图；</p>
<p><img src="http://images0.cnblogs.com/blog/635885/201410/092129239994356.jpg" alt="图片"><br><a target="_blank" rel="noopener" href="http://images0.cnblogs.com/blog/635885/201410/092129239994356.jpg">图片</a></p>
<p>我当时以为这就算完了，结果貌似还是不行啊，我只需要video啊，所以我就在toElement下面找啊找，找到了tagName这个好东西..</p>
<p>于是代码又成为了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onclick</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>)&#123;<br>　　<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">toElement</span>.<span class="hljs-property">tagName</span>);<br>　　<span class="hljs-title function_">alert</span>(obj.<span class="hljs-property">toElement</span>.<span class="hljs-property">tagName</span>);<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>然后结果如下图</p>
<p><img src="http://images0.cnblogs.com/blog/635885/201410/092137013125366.jpg" alt="图片"><br><a target="_blank" rel="noopener" href="http://images0.cnblogs.com/blog/635885/201410/092137013125366.jpg">图片</a></p>
<p>然后这事还没完，我又在mouseEvent里面找到了三种替代方法……请看如下代码，该段代码没有检测浏览器的兼容性问题，望大神帮忙参考参考，最后希望大神轻喷，这可是我很有成就感的一次尝试呀。</p>
<script type="text/javascript">
      <!--点击页面上任意标签alert标签名字-->
      document.onclick=function(obj){
      alert(obj.target.tagName);
    // obj.target/obj.srcElement/obj.toElement 得到的结果是整个元素标签并且包括里面的内容
    // nodeName、tagName显示的是大写标签名//localName显示的是小写的
    console.log(obj.target);
}
</script>

<p>最后附上整个代码：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/Jayvenlee/p/4014537.html">数据来源</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html&quot;</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-tag">body</span>,<span class="hljs-selector-tag">div</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-id">#div1</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">text-align</span>: justify;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">word-spacing</span>: <span class="hljs-number">120px</span>;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-comment">/*layout-flow:vertical-ideographic;*/</span></span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-id">#div1</span> <span class="hljs-selector-tag">img</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">vertical-align</span>: middle;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">outline</span>: <span class="hljs-number">5px</span> solid <span class="hljs-number">#000</span> ;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid red;</span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-id">#div1</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">list-style-type</span>: circle;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">color</span>: red;</span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-tag">strong</span> &#123; <span class="hljs-attribute">voice-family</span>: <span class="hljs-string">&quot;Bob Barker&quot;</span>, <span class="hljs-string">&quot;Monty Hall&quot;</span>, male &#125;</span></span><br><span class="language-css"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;05311K62112646.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>what the  time<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ssss<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">controls</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">autoplay</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;ANGGUN - ONLY LOVE.mp4&quot;</span>&gt;</span>你的浏览器不支持video标签<span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;ff(this)&quot;</span>&gt;</span>sssss<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    <span class="hljs-comment">&lt;!--点击页面上任意标签alert标签名字--&gt;</span></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    document.onclick=function(obj)&#123;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        alert(obj.target.tagName);</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">//        obj.target/obj.srcElement/obj.toElement 得到的结果是整个元素标签并且包括里面的内容</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">//        nodeName&amp;&amp;tagName显示的是大写标签名//localName显示的是小写的</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        console.log(obj.target);</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;</span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div id="footer-link" style="right: calc(50% - 1px);order: 1;border-right: 1px solid #fe2;padding-left: unset;max-width: calc(50% - 4px);"><a href="/2020/12/24/2020-12-24-blog/">← Next markdown语法使用（何以解忧）</a></div><div id="footer-link" style="left: 50%;order: 0;border-left: 1px solid #fe2;padding-right: unset;max-width: calc(50% - 5px);"><a href="/2014/06/30/2014%E5%B9%B46%E6%9C%8830%E6%97%A5/">WebStorm快捷键收集 Prev →</a></div></div></div><details id="reward"><summary>打赏</summary><div id="alipay"><span>支付宝 | Alipay</span><br><img src="/img/Alipay.png"></div><div id="wechat"><span>微信 | WeChat</span><br><img src="/img/WeChat.png"></div></details></div><div id="bottom-btn"><a id="to-top" onClick="index.scrolltop();" title="to top" style="opacity: 0; display: none;">∧</a></div></article><div class="aside-box"><aside><div id="aside-top"><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Jayven Lee</a></h1><div id="description"><p>博客</p></div><!--if page.published === undefined--><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">7</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">6</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">4</span></div></section></div><div id="aside-block"></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">1970 to 2020</span></nobr><br><nobr><span class="text-title">ICP</span><span class="text-content">——备案号——</span></nobr><br><text>published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></text><text> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight</a></text><wbr><text>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></text></footer></aside></div></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script>const reset=_=>{pjax = new Pjax({cacheBust:false,selectors:['title','article','#aside-block','.pjax-js']});}</script><script src="//unpkg.com/@highlightjs/cdn-assets@11.4.0/highlight.min.js"></script><script src="/js/arknights.js"></script><script class="pjax-js">code.findCode();</script><script src="//unpkg.com/pjax@0.2.8/pjax.js"></script><script class="pjax-js">document.addEventListener("pjax:success", _=>{reset();EscapeSearch()});</script><script>document.addEventListener("load",reset())</script></body></html>